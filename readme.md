# Умный сервис прогноза погоды
#### Задача в рамках отборочного этапа в "Школу будущих CTO"

## Уровень сложности "средний"
- Сервис получает от пользователя данные о том, где живет (страна, регион, город).  
Данные о местонахождении пользователь должен указывать самостоятельно в поля ввода.
- Формирует запрос на API
- Из полученных с API данных формирует ответ
- Отображает информацию пользователю

## Проектирование
- Язык разработки: Python 3+
- Веб-фреймворк: Flask
- Сервис погодных данных: WeatherBit
- Пользовательский интерфейс: веб-сайт
- Среда исполнения: Docker

## Демонстрация работы сервиса
- Видеобзор запуска https://www.loom.com/share/02b15b31c24c4783b43fc11007bde5ab

## Процесс работы программы
- Основой сайта является веб-форма с обязательным полем для ввода названия города и опциональным полем, позволяющим
задать или переопределить серверный ключ для доступа к Web API сервиса WeatherBit
- При submit-е формы данные передаются через POST запрос в обработчик /weather
- По данным из формы формируется запрос в API сервиса
- В случае успешного выполнения, из ответа сервиса формируется сообщение о текущей погоде. В случае ошибки авторизации,
  формируется сообщение об этой ошибки
- В дальнейшем можно использовать полученный запрос и прогноз погоды для формирования запроса в RTB сервис и подбора
  рекомендуемых объявлений под интересы пользователя
- В планах доработки: сделать более дружественным интерфейс для отображения погоды и возможных ошибок

## Как запустить программу
- Для работы потребуется ключ доступа к сервису WeatherBit, для этого регистрируемся по ссылке https://www.weatherbit.io/account/login
- После регистрации может потребоваться до 30 минут для активации ключа, спокойно подождем
- Ключ можно будет указывать как на стороне сервера, так и в веб-интерфейсе для каждого запроса
- Для локального запуска и разработки удобно использовать режим virtualenv-а, для создания подготовлены команды:
```shell
make venv
source venv/bin/activate
make local
или
make local ARGS="WeatherBit_API_Key=<ключ>"
```

- Для запуска через Docker подготовлены команды сборки и запуска:
```shell
make build
make run
или
make run ARGS="-e WeatherBit_API_Key=<ключ>"
```
